<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>i.MXRT105x Middleware Pack: CMSIS-Driver for MCI Interface</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><a href="https://www.keil.arm.com/cmsis" target="_blank"><img alt="Logo" src="armkeil_white_h.png"/</a></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">i.MXRT105x Middleware Pack
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "i.MXRT105x Middleware Pack");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK-Middleware examples and CMSIS-Drivers for NXP i.MXRT105x devices</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('evkb_imxrt1050_usdhc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CMSIS-Driver for MCI Interface </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>CMSIS-Driver for MCI Interface Setup</b></p>
<p>The CMSIS-Driver for MCI Interface requires:</p><ul>
<li>USDHC Pins</li>
<li>USDHC Clock</li>
</ul>
<p>Valid pin settings for <b>USDHC1</b> peripheral on <b>EVKB-IMXRT1050</b> evaluation board are listed in the table below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">#   </th><th class="markdownTableHeadLeft">Peripheral   </th><th class="markdownTableHeadLeft">Signal   </th><th class="markdownTableHeadLeft">Route to   </th><th class="markdownTableHeadLeft">Identifier   </th><th class="markdownTableHeadLeft">Direction   </th><th class="markdownTableHeadLeft">Pull Up/Down Config   </th><th class="markdownTableHeadLeft">Pull/Keeper select   </th><th class="markdownTableHeadLeft">Pull/Keeper enable   </th><th class="markdownTableHeadLeft">Drive strength   </th><th class="markdownTableHeadLeft">Slew rate    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">J2   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">DATA,3   </td><td class="markdownTableBodyLeft">GPIO_SD_B0_05   </td><td class="markdownTableBodyLeft">SD1_D3   </td><td class="markdownTableBodyLeft">Input/Output   </td><td class="markdownTableBodyLeft">47k Ohm Pull Up   </td><td class="markdownTableBodyLeft">Pull   </td><td class="markdownTableBodyLeft">Enabled   </td><td class="markdownTableBodyLeft">R0   </td><td class="markdownTableBodyLeft">Fast    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">H2   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">DATA,2   </td><td class="markdownTableBodyLeft">GPIO_SD_B0_04   </td><td class="markdownTableBodyLeft">SD1_D2   </td><td class="markdownTableBodyLeft">Input/Output   </td><td class="markdownTableBodyLeft">47k Ohm Pull Up   </td><td class="markdownTableBodyLeft">Pull   </td><td class="markdownTableBodyLeft">Enabled   </td><td class="markdownTableBodyLeft">R0   </td><td class="markdownTableBodyLeft">Fast    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">K1   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">DATA,1   </td><td class="markdownTableBodyLeft">GPIO_SD_B0_03   </td><td class="markdownTableBodyLeft">SD1_D1   </td><td class="markdownTableBodyLeft">Input/Output   </td><td class="markdownTableBodyLeft">47k Ohm Pull Up   </td><td class="markdownTableBodyLeft">Pull   </td><td class="markdownTableBodyLeft">Enabled   </td><td class="markdownTableBodyLeft">R0   </td><td class="markdownTableBodyLeft">Fast    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">J1   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">DATA,0   </td><td class="markdownTableBodyLeft">GPIO_SD_B0_02   </td><td class="markdownTableBodyLeft">SD1_D0   </td><td class="markdownTableBodyLeft">Input/Output   </td><td class="markdownTableBodyLeft">47k Ohm Pull Up   </td><td class="markdownTableBodyLeft">Pull   </td><td class="markdownTableBodyLeft">Enabled   </td><td class="markdownTableBodyLeft">R0   </td><td class="markdownTableBodyLeft">Fast    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">J4   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">CMD   </td><td class="markdownTableBodyLeft">GPIO_SD_B0_00   </td><td class="markdownTableBodyLeft">SD1_CMD   </td><td class="markdownTableBodyLeft">Input/Output   </td><td class="markdownTableBodyLeft">47k Ohm Pull Up   </td><td class="markdownTableBodyLeft">Pull   </td><td class="markdownTableBodyLeft">Enabled   </td><td class="markdownTableBodyLeft">R0   </td><td class="markdownTableBodyLeft">Fast    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">J3   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">CLK   </td><td class="markdownTableBodyLeft">GPIO_SD_B0_01   </td><td class="markdownTableBodyLeft">SD1_CLK   </td><td class="markdownTableBodyLeft">Output   </td><td class="markdownTableBodyLeft">100k Ohm Pull Down   </td><td class="markdownTableBodyLeft">Keeper   </td><td class="markdownTableBodyLeft">Disabled   </td><td class="markdownTableBodyLeft">R0   </td><td class="markdownTableBodyLeft">Fast    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">D13   </td><td class="markdownTableBodyLeft">GPIO2   </td><td class="markdownTableBodyLeft">goio_io,28   </td><td class="markdownTableBodyLeft">GPIO_B1_12   </td><td class="markdownTableBodyLeft">SD1_CD   </td><td class="markdownTableBodyLeft">Not specified   </td><td class="markdownTableBodyLeft">100k Ohm Pull Down   </td><td class="markdownTableBodyLeft">Keeper   </td><td class="markdownTableBodyLeft">Enabled   </td><td class="markdownTableBodyLeft">R0/6   </td><td class="markdownTableBodyLeft">Slow   </td></tr>
</table>
<p>The rest of the settings can be at the default (reset) value.</p>
<p>For other boards or custom hardware, refer to the hardware schematics to reflect correct setup values.</p>
<p>This driver uses special signal identifiers in order to enable SD Card Detect and Write Protect pin functionality. These identifiers can be optionally used and must be assigned to signal connected to card detect or write protect pin on SD card socket. Each MCI driver instance uses its own identifiers which can be assigned to signals as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">MCI instance   </th><th class="markdownTableHeadLeft">Peripheral   </th><th class="markdownTableHeadLeft">Identifier   </th><th class="markdownTableHeadLeft">Functionality    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">SD1_CD   </td><td class="markdownTableBodyLeft">Card Detect    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">0   </td><td class="markdownTableBodyLeft">USDHC1   </td><td class="markdownTableBodyLeft">SD1_WP   </td><td class="markdownTableBodyLeft">Write Protect    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1   </td><td class="markdownTableBodyLeft">USDHC2   </td><td class="markdownTableBodyLeft">SD2_CD   </td><td class="markdownTableBodyLeft">Card Detect    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">1   </td><td class="markdownTableBodyLeft">USDHC2   </td><td class="markdownTableBodyLeft">SD2_WP   </td><td class="markdownTableBodyLeft">Write Protect   </td></tr>
</table>
<p>In the <a class="el" href="config_pinclock.html">MCUXpresso Config Tools</a>, make sure that the following pin and clock settings are made (enter the values that are shown in <em>italics</em>):</p>
<ol type="1">
<li>Under the <b>Functional</b> <b>Group</b> entry in the toolbar, select <b>Board_InitUSDHC</b></li>
<li>Modify Routed Pins configuration to match the settings listed in the table above</li>
<li>Click on the flag next to <b>Functional Group BOARD_InitUSDHC</b> to enable calling that function from initialization code</li>
<li>Go to <b>Tools - Clocks</b></li>
<li>Go to <b>Views - Details</b> and configure USDHC1_CLK_ROOT to frequency below or equal to <em>198MHz</em>. USDHC1_CLK_ROOT source can be selected from PLL2_PFD2_CLK or PLL2_PFD0_CLK which must be configured accordingly.</li>
<li>Click on <b>Update Project</b> button to update source files </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
